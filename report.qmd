---
title: "Assignment 05: WDI 2022 Analysis"
author: "Hanna Florence"
date: "2026-02-25"
format:
  html:
    toc: true
    number-sections: true
  pdf:
    toc: true
    number-sections: true
execute:
  echo: false
  warning: false
  message: false
jupyter: python3
bibliography: references.bib
---
## Data

Source: World Bank World Development Indicators (WDI) [@worldbank_wdi].
Data was retrieved using the World Bank API workflow consistent with the `wbgapi` package [@wbgapi].

```{python}
#| echo: false
import pandas as pd
df = pd.read_csv("wdi.csv")
df.head()

df.shape
df["gdp_per_capita"].describe()
df["life_expectancy"].describe()
df["unemployment_rate"].describe()

import matplotlib.pyplot as plt

plot_df = df[["gdp_per_capita", "life_expectancy"]].dropna()

plt.figure()
plt.scatter(plot_df["gdp_per_capita"], plot_df["life_expectancy"])
plt.title("GDP per capita vs Life Expectancy (2022)")
plt.xlabel("GDP per capita (current US$)")
plt.ylabel("Life expectancy (years)")
plt.tight_layout()
plt.show()

::: {#fig-gdp-life}
Figure: GDP per capita vs life expectancy. Source: World Bank WDI [@worldbank_wdi].
:::

top10 = df[["country", "gdp_per_capita"]].dropna().sort_values("gdp_per_capita", ascending=False).head(10)

plt.figure()
plt.bar(top10["country"], top10["gdp_per_capita"])
plt.title("Top 10 Countries by GDP per Capita (2022)")
plt.xlabel("Country")
plt.ylabel("GDP per capita (current US$)")
plt.xticks(rotation=45, ha="right")
plt.tight_layout()
plt.show()

::: {#fig-top10-gdp}
Figure: Top 10 countries by GDP per capita. Source: World Bank WDI [@worldbank_wdi].
:::

vars_ = ["gdp_per_capita", "life_expectancy", "unemployment_rate"]
summary = df[vars_].agg(["count", "mean", "median", "min", "max"]).T
summary

::: {#tbl-summary}
Table: Descriptive statistics for selected indicators (2022). Source: World Bank WDI [@worldbank_wdi].
:::